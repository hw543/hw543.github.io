<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zwischen Herz und Verstand - Lesen & Vorlesen - Helmut Wegners Wortwelten</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.8;
            color: #2c1810;
            background: linear-gradient(135deg, #FFE5E5 0%, #FFD4B8 50%, #FFCFCF 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #FFF8F0;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #FF8A80, #FFB74D);
            color: #FFF8F0;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .back-button-header {
            position: absolute;
            top: 15px;
            left: 15px;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            font-size: 0.9em;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            font-style: italic;
        }

        .versuchsreihe-badge {
            background: #FFD700;
            color: #E91E63;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
        }

        .controls {
            background: #fff8f8;
            padding: 20px;
            border-bottom: 3px solid #FFB74D;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .btn-play {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-continue {
            background: linear-gradient(135deg, #17a2b8, #6f42c1);
            color: white;
        }

        .btn-stop {
            background: linear-gradient(135deg, #dc3545, #e83e8c);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .band-navigation, .language-navigation {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .btn-band, .btn-lang {
            background: linear-gradient(135deg, #E91E63, #AD1457);
            color: #FFF8F0;
            padding: 10px 20px;
            border: 2px solid transparent;
        }

        .btn-band.active, .btn-lang.active {
            border-color: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .content {
            padding: 30px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .book-title {
            color: #E91E63;
            font-size: 2em;
            margin-bottom: 10px;
            text-align: center;
            border-bottom: 2px solid #FFB74D;
            padding-bottom: 15px;
        }

        .chapter-title {
            color: #AD1457;
            font-size: 1.5em;
            margin: 30px 0 20px 0;
            text-align: center;
            font-style: italic;
        }

        .text-content {
            text-align: justify;
            margin-bottom: 30px;
        }

        .word {
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 1px 2px;
            border-radius: 3px;
        }

        .word:hover {
            background-color: #FFE5E5;
        }

        .word-highlight {
            background-color: #4169E1;
            color: white;
            padding: 2px 4px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(65, 105, 225, 0.3);
        }

        .hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .control-buttons, .band-navigation, .language-navigation {
                gap: 10px;
            }

            .btn {
                min-width: 100px;
                font-size: 0.9em;
                padding: 10px 16px;
            }

            .content {
                padding: 20px;
                font-size: 1em;
            }

            .header h1 {
                font-size: 2em;
            }

            .back-button-header {
                position: relative;
                top: 0;
                left: 0;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="back-button-header">
              <a href="zwischen-herz-und-verstand.html" class="back-button">‚Üê Zur√ºck zur Serie</a>
            </div>
            <h1>Zwischen Herz und Verstand</h1>
            <p>Lesen & Vorlesen-System - Lassen Sie sich in die emotionalen Geheimnisse der New Adult Welt entf√ºhren</p>
        </div>
        <div class="controls">
            <div class="control-buttons">
                <button class="btn btn-play" onclick="startReading()">üî¥ Vorlesen</button>
                <button class="btn btn-continue" onclick="continueReading()">‚ñ∂Ô∏è Weiterlesen</button>
                <button class="btn btn-stop" onclick="stopReading()">‚èπÔ∏è Stop</button>
            </div>
            <div class="language-navigation">
                <button class="btn btn-lang active" onclick="switchLanguage('de')">üá©üá™ Deutsch</button>
                <button class="btn btn-lang" onclick="switchLanguage('en')">üá¨üáß English</button>
            </div>
            <div class="band-navigation">
                <button class="btn btn-band active" onclick="showBand(1)">Band 1</button>
                <button class="btn btn-band" onclick="showBand(2)">Band 2</button>
                <button class="btn btn-band" onclick="showBand(3)">Band 3</button>
            </div>
        </div>
        <div class="content">
            <div id="de-content" class="language-content">
                <div id="de-band1" class="band-content">
                    <div class="book-title">Band 1: Verborgene Gef√ºhle</div>
                    <div class="chapter-title">Kapitel 1: Die Nachricht, die alles ver√§nderte</div>
                    <div class="text-content" id="de-textContent1">
                        <p>Die Bibliothek war wie immer ein Zufluchtsort. Lena Winter atmete tief den vertrauten Geruch nach altem Papier ein, w√§hrend ihr Blick durch den Raum schweifte. Die Stille eines Donnerstagnachmittags war ein angenehmer Kontrast zum lauten Trubel drau√üen, wo die anderen Studenten in Gruppen zusammenstanden, lachten und redeten - ein soziales Spiel, bei dem sie nie die richtigen Karten in der Hand hatte. "Warum f√§llt es mir so schwer, mit anderen zu reden?", fragte sie sich zum hundertsten Mal.</p>
                        <p>W√§hrend sie das Caf√© verlie√üen, fragte sich Lena, worauf sie sich da eingelassen hatte. Ein Teil von ihr war aufgeregt, ein anderer Teil zu Tode erschrocken. Aber unter all dem lag eine seltsame Gewissheit: Die Notiz in "Effi Briest" hatte etwas in Bewegung gesetzt, einen Stein ins Rollen gebracht, der nicht mehr aufzuhalten war. Wohin dieser Weg sie f√ºhren w√ºrde, wusste sie nicht. Aber zum ersten Mal seit langem war sie bereit, es herauszufinden.</p>
                    </div>
                </div>
                <div id="de-band2" class="band-content hidden">
                    <div class="book-title">Band 2: Enth√ºllte Wahrheiten</div>
                    <div class="chapter-title">Kapitel 1: N√§he, die flieht</div>
                    <div class="text-content" id="de-textContent2">
                        <p>Lena erwachte mit dem Gef√ºhl, dass etwas fehlte. Die W√§rme neben ihr war sp√ºrbar, k√∂rperlich pr√§sent, atmend, real. Julians Arm lag schwer √ºber ihrer Mitte, sein Atem gleichm√§√üig und tief an ihrem Nacken. Und doch existierte eine seltsame Leere, die sie nicht greifen konnte. Sie blinzelte in das fr√ºhe Morgenlicht, das durch die nicht ganz geschlossenen Vorh√§nge fiel, und versuchte, die Empfindung zu lokalisieren.</p>
                        <p>Mit diesem Gedanken driftete sie schlie√ülich in den Schlaf, w√§hrend der Mond langsam √ºber den Himmel wanderte und die Nacht sich ihrem Ende zuneigte.</p>
                    </div>
                </div>
                <div id="de-band3" class="band-content hidden">
                    <div class="book-title">Band 3: In Vorbereitung</div>
                    <div class="chapter-title">Bald verf√ºgbar</div>
                    <div class="text-content" id="de-textContent3">
                        <p style="text-align: center; font-style: italic; color: #AD1457; font-size: 1.2em; margin-top: 50px;">
                            Dieser Band befindet sich noch in der Entwicklung.<br>
                            Seien Sie gespannt auf die Fortsetzung der emotionalen Reise von Lena und Julian!
                        </p>
                    </div>
                </div>
            </div>
            <div id="en-content" class="language-content hidden">
                <div id="en-band1" class="band-content">
                    <div class="book-title">Volume 1: Hidden Feelings</div>
                    <div class="chapter-title">Chapter 1: The Message That Changed Everything</div>
                    <div class="text-content" id="en-textContent1">
                        <p>The library was, as always, a refuge. Lena Winter breathed in deeply the familiar smell of old paper while her gaze wandered through the room. The silence of a Thursday afternoon was a pleasant contrast to the loud bustle outside, where other students stood together in groups, laughing and talking - a social game where she never had the right cards in her hand. "Why is it so hard for me to talk to others?" she asked herself for the hundredth time.</p>
                        <p>As they left the caf√©, Lena wondered what she had gotten herself into. Part of her was excited, another part scared to death. But underneath it all lay a strange certainty: The note in "Effi Briest" had set something in motion, started a stone rolling that could no longer be stopped. Where this path would lead her, she didn't know. But for the first time in a long time, she was ready to find out.</p>
                    </div>
                </div>
                <div id="en-band2" class="band-content hidden">
                    <div class="book-title">Volume 2: Revealed Truths</div>
                    <div class="chapter-title">Chapter 1: Closeness That Flees</div>
                    <div class="text-content" id="en-textContent2">
                        <p>Lena woke up with the feeling that something was missing. The warmth beside her was tangible, physically present, breathing, real. Julian's arm lay heavy across her middle, his breath steady and deep against her neck. And yet there existed a strange emptiness that she couldn't grasp. She blinked into the early morning light falling through the not quite closed curtains and tried to locate the sensation.</p>
                        <p>With this thought she finally drifted into sleep, while the moon slowly wandered across the sky and the night approached its end.</p>
                    </div>
                </div>
                <div id="en-band3" class="band-content hidden">
                    <div class="book-title">Volume 3: In Preparation</div>
                    <div class="chapter-title">Coming Soon</div>
                    <div class="text-content" id="en-textContent3">
                        <p style="text-align: center; font-style: italic; color: #AD1457; font-size: 1.2em; margin-top: 50px;">
                            This volume is still in development.<br>
                            Stay tuned for the continuation of Lena and Julian's emotional journey!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let currentSpeech = null;
        let currentWordIndex = 0;
        let allWords = [];
        let isReading = false;
        let lastHighlightedWord = null;
        let currentLanguage = 'de';
        let currentBand = 1;

        function switchLanguage(lang) {
            if (currentSpeech) {
                speechSynthesis.cancel();
                isReading = false;
            }
            document.querySelectorAll('.language-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(lang + '-content').classList.remove('hidden');
            document.querySelectorAll('.btn-lang').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            currentLanguage = lang;
            currentWordIndex = 0;
            clearHighlights();
            initializeWords();
        }

        function showBand(bandNum) {
            if (currentSpeech) {
                speechSynthesis.cancel();
                isReading = false;
            }
            document.querySelectorAll('.band-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(currentLanguage + '-band' + bandNum).classList.remove('hidden');
            document.querySelectorAll('.btn-band').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            currentBand = bandNum;
            currentWordIndex = 0;
            clearHighlights();
            initializeWords();
        }

        function initializeWords() {
            const textContent = document.querySelector('#' + currentLanguage + '-band' + currentBand + ' .text-content');
            if (!textContent) return;

            const paragraphs = textContent.querySelectorAll('p');
            allWords = [];
            paragraphs.forEach((paragraph) => {
                const paragraphText = paragraph.textContent;
                const paragraphWords = paragraphText.split(/\s+/).filter(word => word.length > 0);
                let paragraphHTML = '';
                paragraphWords.forEach((word) => {
                    paragraphHTML += `<span class="word" data-word-index="${allWords.length}" onclick="startFromWord(${allWords.length})">${word}</span> `;
                    allWords.push(word);
                });
                paragraph.innerHTML = paragraphHTML;
            });
        }

        function startReading() {
            currentWordIndex = 0;
            clearHighlights();
            continueReading();
        }

        function continueReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
            }
            if (allWords && allWords.length > 0) {
                const remainingText = allWords.slice(currentWordIndex).join(' ');
                currentSpeech = new SpeechSynthesisUtterance(remainingText);
                currentSpeech.rate = 1.0;
                currentSpeech.lang = currentLanguage === 'de' ? 'de-DE' : 'en-US';

                let wordCount = currentWordIndex;
                currentSpeech.onboundary = function(event) {
                    if (event.name === 'word') {
                        highlightCurrentWord(wordCount);
                        wordCount++;
                        currentWordIndex = wordCount;
                    }
                };

                currentSpeech.onend = function() {
                    isReading = false;
                };

                isReading = true;
                speechSynthesis.speak(currentSpeech);
            }
        }

        function startFromWord(wordIndex) {
            currentWordIndex = wordIndex;
            clearHighlights();
            continueReading();
        }

        function highlightCurrentWord(wordIndex) {
            if (lastHighlightedWord) {
                lastHighlightedWord.classList.remove('word-highlight');
            }
            const wordSpan = document.querySelector(`#${currentLanguage}-band${currentBand} [data-word-index="${wordIndex}"]`);
            if (wordSpan) {
                wordSpan.classList.add('word-highlight');
                lastHighlightedWord = wordSpan;
                const rect = wordSpan.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                const controlsHeight = 150;
                if (rect.bottom > windowHeight - 100 || rect.top < controlsHeight + 50) {
                    wordSpan.scrollIntoView({
                        behavior: 'smooth',
                        block: 'nearest',
                        inline: 'nearest'
                    });
                }
            }
        }

        function clearHighlights() {
            document.querySelectorAll('.word-highlight').forEach(el => {
                el.classList.remove('word-highlight');
            });
            lastHighlightedWord = null;
        }

        function stopReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
                currentSpeech = null;
                isReading = false;
            }
            clearHighlights();
        }

        document.addEventListener('DOMContentLoaded', function() {
            initializeWords();
        });
    </script>
</body>
</html>
