<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zwischen Herz und Verstand - Lesen & Vorlesen</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #FFB6C1 0%, #DDA0DD 30%, #FF69B4 70%, #F0E68C 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
            overflow-x: hidden;
        }

        .main-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            max-width: 900px;
            width: 100%;
            margin: 20px auto;
            overflow: hidden;
            border: 2px solid rgba(255, 105, 180, 0.3);
        }

        .header {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .back-button {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .series-title {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .series-subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            font-style: italic;
        }

        .options-bar {
            background: rgba(255, 240, 245, 0.8);
            padding: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            border-bottom: 2px solid rgba(255, 105, 180, 0.2);
        }

        .option-btn {
            padding: 12px 25px;
            border: 2px solid rgba(255, 105, 180, 0.3);
            border-radius: 25px;
            background: white;
            color: #FF69B4;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            font-size: 1em;
        }

        .option-btn.active {
            background: #FF69B4;
            color: white;
            border-color: #FF69B4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .option-btn:hover {
            background: rgba(255, 105, 180, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .language-bar {
            background: rgba(255, 240, 245, 0.5);
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
            border-bottom: 2px solid rgba(255, 105, 180, 0.2);
        }

        .lang-btn {
            padding: 10px 20px;
            border: 2px solid rgba(255, 105, 180, 0.3);
            border-radius: 20px;
            background: white;
            color: #FF69B4;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .lang-btn.active {
            background: #FF69B4;
            color: white;
            border-color: #FF69B4;
        }

        .lang-btn:hover {
            background: rgba(255, 105, 180, 0.1);
            transform: translateY(-1px);
        }

        .band-navigation {
            background: white;
            padding: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            border-bottom: 2px solid rgba(255, 105, 180, 0.2);
        }

        .band-btn {
            padding: 15px 30px;
            border: 2px solid rgba(255, 105, 180, 0.3);
            border-radius: 25px;
            background: white;
            color: #FF69B4;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .band-btn.active {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border-color: #FF69B4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .band-btn:hover {
            background: rgba(255, 105, 180, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .content-area {
            background: white;
            padding: 40px;
            min-height: 600px;
        }

        .book-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 105, 180, 0.2);
        }

        .book-title {
            font-size: 2em;
            color: #FF69B4;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .chapter-info {
            font-size: 1.2em;
            color: #BA55D3;
            font-style: italic;
            margin-bottom: 15px;
        }

        .chapter-title {
            font-size: 1.1em;
            color: #2F4F4F;
            font-weight: bold;
        }

        .text-content {
            font-size: 1.1em;
            line-height: 1.8;
            color: #2F4F4F;
            text-align: justify;
            margin-bottom: 30px;
            background: rgba(255, 240, 245, 0.3);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 105, 180, 0.2);
        }

        .text-content p {
            margin-bottom: 20px;
            text-indent: 2em;
        }

        .text-content p:first-child {
            text-indent: 0;
        }

        .audio-controls {
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.1), rgba(186, 85, 211, 0.1));
            padding: 25px;
            border-radius: 20px;
            margin: 30px 0;
            border: 2px solid rgba(255, 105, 180, 0.2);
        }

        .control-section {
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 105, 180, 0.2);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
            cursor: pointer;
            border: 1px solid rgba(255, 105, 180, 0.3);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF69B4, #FF1493);
            width: 0%;
            transition: width 0.3s ease;
        }

        .time-display {
            text-align: center;
            font-size: 1em;
            color: #BA55D3;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .main-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            box-shadow: 0 3px 10px rgba(255, 105, 180, 0.3);
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #FF1493, #DC143C);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }

        .control-btn.play-btn {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            padding: 15px 30px;
            font-size: 1.1em;
            min-width: 180px;
        }

        .secondary-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .speed-control {
            padding: 8px 15px;
            border: 2px solid rgba(255, 105, 180, 0.3);
            border-radius: 20px;
            background: white;
            color: #FF69B4;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9em;
        }

        .speed-control:focus {
            outline: none;
            border-color: #FF69B4;
        }

        .continue-section {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.1), rgba(186, 85, 211, 0.1));
            border-radius: 20px;
            border: 2px solid rgba(255, 105, 180, 0.2);
        }

        .continue-section h3 {
            color: #FF69B4;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .continue-section p {
            color: #BA55D3;
            font-style: italic;
            margin-bottom: 20px;
        }

        .purchase-btn {
            background: linear-gradient(135deg, #9ca3af, #6b7280);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: not-allowed;
            opacity: 0.7;
            margin: 0 10px;
            font-size: 1em;
        }

        .book-content {
            display: none;
        }

        .book-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .main-container {
                margin: 10px;
                border-radius: 20px;
            }
            
            .content-area {
                padding: 25px;
            }
            
            .text-content {
                padding: 20px;
                font-size: 1rem;
            }
            
            .main-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 250px;
            }
            
            .secondary-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <a href="serien_new_adult.html" class="back-button">← Zurück zu New Adult</a>
            <h1 class="series-title">💕 Zwischen Herz und Verstand</h1>
            <p class="series-subtitle">Emotionale Geschichten über Liebe und Selbstfindung</p>
        </div>

        <div class="options-bar">
            <a href="#" class="option-btn active">Vorlesen</a>
            <a href="#" class="option-btn">Lesen</a>
            <a href="#" class="option-btn">Beide</a>
        </div>

        <div class="language-bar">
            <button class="lang-btn active" onclick="setLanguage('de')">🇩🇪 Deutsch</button>
            <button class="lang-btn" onclick="setLanguage('en')">🇬🇧 English</button>
        </div>

        <div class="band-navigation">
            <button class="band-btn active" onclick="showBook('band1')">Band 1</button>
            <button class="band-btn" onclick="showBook('band2')">Band 2</button>
            <button class="band-btn" onclick="showBook('band3')">Band 3</button>
        </div>

        <div class="content-area">
            <!-- Band 1 Content -->
            <div id="band1" class="book-content active">
                <div class="book-header">
                    <h2 class="book-title">Band 1: Verborgene Gefühle</h2>
                    <p class="chapter-info">Die Nachricht, die alles veränderte</p>
                    <p class="chapter-title">Kapitel 1: Die Nachricht, die alles veränderte</p>
                </div>

                <div class="text-content">
                    <p>Die Bibliothek war wie immer ein Zufluchtsort. Lena Winter atmete tief den vertrauten Geruch nach altem Papier ein, während ihr Blick durch den Raum schweifte. Die Stille eines Donnerstagnachmittags war ein angenehmer Kontrast zum lauten Trubel draußen, wo die anderen Studenten in Gruppen zusammenstanden, lachten und redeten - ein soziales Spiel, bei dem sie nie die richtigen Karten in der Hand hatte.</p>

                    <p>"Warum fällt es mir so schwer, mit anderen zu reden?", fragte sie sich zum hundertsten Mal. Diese Frage nagte ständig an ihr, besonders wenn sie andere Studenten beobachtete, die nach gerade mal drei Monaten an der Uni bereits enge Freundschaften geschlossen hatten. Freundschaften, die nach etwas Echtem aussahen, nicht nach den oberflächlichen Bekanntschaften, die sie in der Schule gehabt hatte.</p>

                    <p>Sie strich über die Buchrücken in der Abteilung für deutsche Literatur, ihr Herzschlag beruhigte sich allmählich. Professor Kleinschmidt hatte ihnen für das Seminar „Realismus und gesellschaftliche Strömungen" eine Liste mit Primärliteratur gegeben. Anders als ihre Kommilitonen, die alles digital lasen, brauchte Lena das Gefühl von Papier unter ihren Fingern - eine Verbindung zur Vergangenheit, die ihr Halt gab, wenn die Gegenwart zu kompliziert wurde.</p>

                    <p>"Entschuldige", flüsterte jemand neben ihr, und Lena zuckte zusammen, als hätte man sie aus einem Traum gerissen. Ein junger Mann mit kurzen dunklen Haaren und einer randlosen Brille stand dort. Seine Augen - dunkelbraun mit einem interessanten goldenen Schimmer - trafen ihre, und für einen Moment vergaß sie zu atmen.</p>

                    <p>Als sie zu Kapitel fünf kam, blieb ihr Blick an etwas Ungewöhnlichem hängen. Am Rand der Seite 27 stand eine handschriftliche Notiz in blauer Tinte, die Schrift ordentlich und fast elegant: „Ist es nicht merkwürdig, wie Effi zwischen gesellschaftlichen Erwartungen und eigenen Wünschen zerrieben wird? Manche Dinge ändern sich nie, nicht wahr? -- J."</p>

                    <p>Ein plötzlicher Impuls überkam sie. Dieser unbekannte J. hatte etwas in ihr berührt, eine Seite angeschlagen, die resonierte. Bevor sie ihren Mut verlieren konnte, holte sie ihren Kugelschreiber heraus und schrieb direkt unter die Notiz: „Die Formen ändern sich, aber der Druck bleibt. Heute zerreiben wir uns zwischen Authentizität und Selbstoptimierung. Fortschritt? -- L."</p>
                </div>

                <div class="audio-controls">
                    <div class="control-section">
                        <div class="progress-bar" onclick="seekTo(event, 'band1')">
                            <div class="progress-fill" id="progress-fill-band1"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time-band1">00:00</span> / <span id="total-time-band1">45:32</span>
                        </div>
                    </div>
                    
                    <div class="main-controls">
                        <button class="control-btn" onclick="previousChapter('band1')">⏮️</button>
                        <button class="control-btn" onclick="rewind('band1')">⏪</button>
                        <button class="control-btn play-btn" onclick="togglePlay('band1')" id="play-btn-band1">
                            ▶️ Vorlesen starten
                        </button>
                        <button class="control-btn" onclick="forward('band1')">⏩</button>
                        <button class="control-btn" onclick="nextChapter('band1')">⏭️</button>
                    </div>
                    
                    <div class="secondary-controls">
                        <button class="control-btn" onclick="stopReading('band1')">⏹️ Stop</button>
                        <select class="speed-control" onchange="changeSpeed('band1', this.value)">
                            <option value="0.5">0.5x</option>
                            <option value="0.75">0.75x</option>
                            <option value="1" selected>1x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2x</option>
                        </select>
                        <button class="control-btn" onclick="continueReading('band1')">📖 Weiterlesen</button>
                    </div>
                </div>

                <div class="continue-section">
                    <h3>✨ Möchten Sie erfahren, wie es weitergeht?</h3>
                    <p>Das komplette Buch mit allen Kapiteln erscheint bald!</p>
                    <button class="purchase-btn" disabled>📚 Vollversion (In Vorbereitung)</button>
                    <button class="purchase-btn" disabled>🛒 Bei Amazon (Bald verfügbar)</button>
                </div>
            </div>

            <!-- Band 2 Content -->
            <div id="band2" class="book-content">
                <div class="book-header">
                    <h2 class="book-title">Band 2: Enthüllte Wahrheiten</h2>
                    <p class="chapter-info">Nähe, die flieht</p>
                    <p class="chapter-title">Kapitel 1: Nähe, die flieht</p>
                </div>

                <div class="text-content">
                    <p>Lena erwachte mit dem Gefühl, dass etwas fehlte. Die Wärme neben ihr war spürbar, körperlich präsent, atmend, real. Julians Arm lag schwer über ihrer Mitte, sein Atem gleichmäßig und tief an ihrem Nacken. Und doch existierte eine seltsame Leere, die sie nicht greifen konnte.</p>

                    <p>Drei Monate waren seit dem ersten Kuss am Fluss vergangen. Drei Monate, in denen aus zögernden Berührungen Vertrautheit geworden war, aus geteilten Büchern ein geteiltes Bett, aus zwei separaten Leben ein gemeinsamer Alltag. Alles hatte sich so natürlich entwickelt, so mühelos, als wäre es eine Geschichte, die nur darauf gewartet hatte, erzählt zu werden.</p>

                    <p>Julian murmelte etwas im Schlaf, zog sie näher an sich. Sie spürte seinen Herzschlag durch den dünnen Stoff ihres T-Shirts, beständig und beruhigend. Sie sollte glücklich sein. Sie war glücklich. Warum also dieses nagende Gefühl der Unvollständigkeit?</p>

                    <p>Vorsichtig löste sie sich aus seiner Umarmung, darauf bedacht, ihn nicht zu wecken. Auf Zehenspitzen schlich sie aus dem Schlafzimmer, durchquerte den schmalen Flur seiner Wohnung und betrat die Küche. Seine Küche. Nicht ihre.</p>

                    <p>"Woran denkst du?" Julians Frage unterbrach ihre Gedanken. Er reichte ihr eine Tasse, die Wärme drang durch das Porzellan in ihre Hände. "Nichts Besonderes", log sie und hasste sich ein wenig dafür. Es war eine kleine Lüge, harmlos. Und doch spürte sie, wie sich eine Mauer zwischen ihnen aufbaute, Stein für Stein, Tag für Tag.</p>

                    <p>Sie liebte Julian, daran zweifelte sie nicht. Aber sie hatte begonnen, sich in ihrer Beziehung zu verlieren, die Konturen ihres Selbst zu verwischen, bis sie nicht mehr sicher war, wo sie aufhörte und er begann. War das normal? War es das, was Liebe bedeutete?</p>
                </div>

                <div class="audio-controls">
                    <div class="control-section">
                        <div class="progress-bar" onclick="seekTo(event, 'band2')">
                            <div class="progress-fill" id="progress-fill-band2"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time-band2">00:00</span> / <span id="total-time-band2">52:47</span>
                        </div>
                    </div>
                    
                    <div class="main-controls">
                        <button class="control-btn" onclick="previousChapter('band2')">⏮️</button>
                        <button class="control-btn" onclick="rewind('band2')">⏪</button>
                        <button class="control-btn play-btn" onclick="togglePlay('band2')" id="play-btn-band2">
                            ▶️ Vorlesen starten
                        </button>
                        <button class="control-btn" onclick="forward('band2')">⏩</button>
                        <button class="control-btn" onclick="nextChapter('band2')">⏭️</button>
                    </div>
                    
                    <div class="secondary-controls">
                        <button class="control-btn" onclick="stopReading('band2')">⏹️ Stop</button>
                        <select class="speed-control" onchange="changeSpeed('band2', this.value)">
                            <option value="0.5">0.5x</option>
                            <option value="0.75">0.75x</option>
                            <option value="1" selected>1x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2x</option>
                        </select>
                        <button class="control-btn" onclick="continueReading('band2')">📖 Weiterlesen</button>
                    </div>
                </div>

                <div class="continue-section">
                    <h3>💫 Die Fortsetzung der emotionalen Reise!</h3>
                    <p>Lena und Julians Geschichte geht weiter...</p>
                    <button class="purchase-btn" disabled>📚 Vollversion (In Vorbereitung)</button>
                    <button class="purchase-btn" disabled>🛒 Bei Amazon (Bald verfügbar)</button>
                </div>
            </div>

            <!-- Band 3 Content -->
            <div id="band3" class="book-content">
                <div class="book-header">
                    <h2 class="book-title">Band 3: Wo Liebe wachsen darf</h2>
                    <p class="chapter-info">Und jetzt?</p>
                    <p class="chapter-title">Kapitel 1: Und jetzt?</p>
                </div>

                <div class="text-content">
                    <p>Lena erinnerte sich an die Momente, in denen sie sich so verbunden gefühlt hatte, als ob die Worte zwischen ihnen eine Brücke gebaut hätten, die alle Unsicherheiten überwinden konnte. Aber jetzt war diese Brücke verschwunden, und sie stand wieder am Ufer, unsicher, wie sie den Fluss überqueren sollte.</p>

                    <p>Sie öffnete die Schublade ihres Schreibtisches und nahm den Stapel Briefe heraus, die sie und Julian einander geschrieben hatten. Jeder Brief war ein Stück ihrer gemeinsamen Geschichte, ein Beweis dafür, dass sie einmal eine tiefe Verbindung gehabt hatten.</p>

                    <p>Warum war es so schwer, diese Verbindung in die reale Welt zu übertragen? Warum fühlte es sich an, als ob sie auf Papier so viel leichter atmen konnten als im echten Leben?</p>

                    <p>Vielleicht war es an der Zeit, etwas Neues zu beginnen, etwas, das nicht von der Vergangenheit belastet war. Sie ging in die Küche und setzte Wasser für Tee auf. Während sie darauf wartete, dass das Wasser kochte, dachte sie über ihre Zukunft nach.</p>

                    <p>Sie war bereit, den nächsten Schritt zu tun, welcher auch immer das sein mochte. Sie war bereit, ihre eigene Geschichte zu leben, mit all ihren Höhen und Tiefen, mit all ihren Freuden und Schmerzen. Sie war bereit, Lena zu sein, ganz und gar.</p>
                </div>

                <div class="audio-controls">
                    <div class="control-section">
                        <div class="progress-bar" onclick="seekTo(event, 'band3')">
                            <div class="progress-fill" id="progress-fill-band3"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time-band3">00:00</span> / <span id="total-time-band3">48:15</span>
                        </div>
                    </div>
                    
                    <div class="main-controls">
                        <button class="control-btn" onclick="previousChapter('band3')">⏮️</button>
                        <button class="control-btn" onclick="rewind('band3')">⏪</button>
                        <button class="control-btn play-btn" onclick="togglePlay('band3')" id="play-btn-band3">
                            ▶️ Vorlesen starten
                        </button>
                        <button class="control-btn" onclick="forward('band3')">⏩</button>
                        <button class="control-btn" onclick="nextChapter('band3')">⏭️</button>
                    </div>
                    
                    <div class="secondary-controls">
                        <button class="control-btn" onclick="stopReading('band3')">⏹️ Stop</button>
                        <select class="speed-control" onchange="changeSpeed('band3', this.value)">
                            <option value="0.5">0.5x</option>
                            <option value="0.75">0.75x</option>
                            <option value="1" selected>1x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2x</option>
                        </select>
                        <button class="control-btn" onclick="continueReading('band3')">📖 Weiterlesen</button>
                    </div>
                </div>

                <div class="continue-section">
                    <h3>🌟 Das finale Kapitel der Trilogie!</h3>
                    <p>Lenas Reise zur Selbstfindung erreicht ihren Höhepunkt...</p>
                    <button class="purchase-btn" disabled>📚 Vollversion (In Vorbereitung)</button>
                    <button class="purchase-btn" disabled>🛒 Bei Amazon (Bald verfügbar)</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let audioState = {
            'band1': { isPlaying: false, currentTime: 0, duration: 2732, speed: 1 },
            'band2': { isPlaying: false, currentTime: 0, duration: 3167, speed: 1 },
            'band3': { isPlaying: false, currentTime: 0, duration: 2895, speed: 1 }
        };

        let intervals = {};

        function showBook(bookId) {
            // Alle Bücher ausblenden
            document.querySelectorAll('.book-content').forEach(book => {
                book.classList.remove('active');
            });
            
            // Alle Band-Buttons zurücksetzen
            document.querySelectorAll('.band-btn').forEach(button => {
                button.classList.remove('active');
            });
            
            // Gewähltes Buch anzeigen
            document.getElementById(bookId).classList.add('active');
            
            // Entsprechenden Button aktivieren
            event.target.classList.add('active');
        }

        function setLanguage(lang) {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (lang === 'en') {
                alert('🇬🇧 English version coming soon!\nEnglische Version bald verfügbar!');
            }
        }

        function togglePlay(bandId) {
            const btn = document.getElementById('play-btn-' + bandId);
            const state = audioState[bandId];
            
            if (!state.isPlaying) {
                // Alle anderen Player stoppen
                Object.keys(audioState).forEach(key => {
                    if (key !== bandId && audioState[key].isPlaying) {
                        stopReading(key);
                    }
                });

                btn.innerHTML = '⏸️ Pausieren';
                state.isPlaying = true;
                startProgressSimulation(bandId);
                
                const messages = {
                    'band1': '▶️ Vorlesen von "Verborgene Gefühle" gestartet!\n\n"Die Bibliothek war wie immer ein Zufluchtsort..."',
                    'band2': '▶️ Vorlesen von "Enthüllte Wahrheiten" gestartet!\n\n"Lena erwachte mit dem Gefühl, dass etwas fehlte..."',
                    'band3': '▶️ Vorlesen von "Wo Liebe wachsen darf" gestartet!\n\n"Lena erinnerte sich an die Momente..."'
                };
                
                alert(messages[bandId] + '\n\nVollständige Text-to-Speech Funktion in der finalen Version!');
            } else {
                btn.innerHTML = '▶️ Vorlesen fortsetzen';
                state.isPlaying = false;
                if (intervals[bandId]) {
                    clearInterval(intervals[bandId]);
                }
            }
        }

        function stopReading(bandId) {
            const btn = document.getElementById('play-btn-' + bandId);
            const state = audioState[bandId];
            
            btn.innerHTML = '▶️ Vorlesen starten';
            state.isPlaying = false;
            state.currentTime = 0;
            
            if (intervals[bandId]) {
                clearInterval(intervals[bandId]);
            }
            
            updateProgress(bandId);
            alert('⏹️ Vorlesen gestoppt und zurückgesetzt!');
        }

        function rewind(bandId) {
            const state = audioState[bandId];
            state.currentTime = Math.max(0, state.currentTime - 15);
            updateProgress(bandId);
            alert('⏪ 15 Sekunden zurück');
        }

        function forward(bandId) {
            const state = audioState[bandId];
            state.currentTime = Math.min(state.duration, state.currentTime + 15);
            updateProgress(bandId);
            alert('⏩ 15 Sekunden vor');
        }

        function changeSpeed(bandId, speed) {
            audioState[bandId].speed = parseFloat(speed);
            alert(`🎵 Geschwindigkeit geändert auf ${speed}x`);
        }

        function continueReading(bandId) {
            const messages = {
                'band1': '📖 Weiterlesen: Kapitel 2 von "Verborgene Gefühle"',
                'band2': '📖 Weiterlesen: Kapitel 2 von "Enthüllte Wahrheiten"',
                'band3': '📖 Weiterlesen: Kapitel 2 von "Wo Liebe wachsen darf"'
            };
            alert(messages[bandId] + '\n\nIn der vollständigen Version wird das nächste Kapitel geladen.');
        }

        function previousChapter(bandId) {
            alert('⏮️ Vorheriges Kapitel wird geladen...\n\nIn der vollständigen Version verfügbar!');
        }

        function nextChapter(bandId) {
            alert('⏭️ Nächstes Kapitel wird geladen...\n\nIn der vollständigen Version verfügbar!');
        }

        function seekTo(event, bandId) {
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const percent = (event.clientX - rect.left) / rect.width;
            const state = audioState[bandId];
            
            state.currentTime = Math.floor(percent * state.duration);
            updateProgress(bandId);
            
            const minutes = Math.floor(state.currentTime / 60);
            const seconds = Math.floor(state.currentTime % 60);
            alert(`⏯️ Springe zu ${minutes}:${seconds.toString().padStart(2, '0')}`);
        }

        function updateProgress(bandId) {
            const progressFill = document.getElementById('progress-fill-' + bandId);
            const currentTimeSpan = document.getElementById('current-time-' + bandId);
            const state = audioState[bandId];
            
            if (progressFill) {
                const percentage = (state.currentTime / state.duration) * 100;
                progressFill.style.width = percentage + '%';
            }
            
            if (currentTimeSpan) {
                const minutes = Math.floor(state.currentTime / 60);
                const seconds = Math.floor(state.currentTime % 60);
                currentTimeSpan.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }

        function startProgressSimulation(bandId) {
            const state = audioState[bandId];
            
            intervals[bandId] = setInterval(() => {
                if (state.isPlaying && state.currentTime < state.duration) {
                    state.currentTime += state.speed;
                    updateProgress(bandId);
                } else if (state.currentTime >= state.duration) {
                    stopReading(bandId);
                    alert('📖 Kapitel beendet! Weiter zum nächsten Kapitel?');
                    clearInterval(intervals[bandId]);
                }
            }, 1000);
        }

        // Tastatur-Shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space') {
                event.preventDefault();
                const activeBook = document.querySelector('.book-content.active');
                if (activeBook) {
                    togglePlay(activeBook.id);
                }
            }
        });
    </script>
</body>
</html>
